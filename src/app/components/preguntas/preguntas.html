<div class="min-h-screen  p-4 md:p-8">
  <div class="max-w-4xl mx-auto">
    <!-- Header -->
    <div class="text-center mb-8 md:mb-12">
      <h1 class="text-3xl md:text-5xl font-bold text-white mb-2 md:mb-4">
         Nuestro Juego de Preguntas 
      </h1>
      <p class="text-lg font-semibold md:text-lg text-white">
        Elige una preguna
      </p>
      <div class="mt-4 bg-white/80 backdrop-blur-sm rounded-full px-4 md:px-6 py-2 inline-block">
        <span class="text-sm md:text-base text-gray-700 font-medium">
          Respondidas: {{ preguntasRespondidas }} / {{ preguntas.length }}
        </span>
      </div>
    </div>

    <!-- Grid de Preguntas -->
    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 md:gap-4 mb-8">
      <div
        *ngFor="let pregunta of preguntas"
        (click)="seleccionarPregunta(pregunta)"
        [class.opacity-50]="pregunta.respondida"
        [class.cursor-not-allowed]="pregunta.respondida"
        [class.cursor-pointer]="!pregunta.respondida"
        class="aspect-square px-6 py-3 bg-white bg-opacity-20 hover:bg-opacity-30 text-white font-semibold rounded-lg backdrop-blur-lg border border-white border-opacity-20 transition-all whitespace-nowrap text-center flex items-center justify-center relative group"
      >
        <!-- Efecto de brillo -->
        <div class="absolute inset-0 bg-gradient-to-tr from-white/0 via-white/20 to-white/0 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
        
        <!-- Contenido -->
        <div class="text-center z-10">
          <div class="text-3xl md:text-5xl mb-2">
            {{ pregunta.respondida ? 'âœ“' : (pregunta.tipo === 'multiple' ? 'ğŸ“' : 'âœï¸') }}
          </div>
          <div class="text-xl md:text-3xl font-bold text-white">
            {{ pregunta.id }}
          </div>
        </div>

        <!-- Check mark para respondidas -->
        <div *ngIf="pregunta.respondida" class="absolute inset-0 bg-gray-800/50 flex items-center justify-center">
          <span class="text-5xl md:text-7xl">âœ“</span>
        </div>
      </div>
    </div>

    <!-- Modal de Pregunta -->
    <div
      *ngIf="mostrarPregunta && preguntaActual"
      class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50"
      (click)="cerrarPregunta()"
    >
      <div
        class="bg-white rounded-3xl shadow-2xl p-6 md:p-8 max-w-lg w-full transform transition-all max-h-[90vh] overflow-y-auto"
        (click)="$event.stopPropagation()"
      >
        <!-- Tipo de pregunta -->
        <div class="flex items-center justify-center mb-4">
          <span class="text-xs md:text-sm bg-purple-100 text-purple-700 px-3 py-1 rounded-full font-semibold">
            {{ preguntaActual.tipo === 'multiple' ? 'ğŸ“ OpciÃ³n mÃºltiple' : 'âœï¸ Respuesta abierta' }}
          </span>
        </div>

        <!-- Pregunta -->
        <div class="text-center mb-6">
          <div class="text-4xl md:text-5xl mb-4">ğŸ’­</div>
          <h2 class="text-xl md:text-2xl font-bold text-gray-800 mb-6">
            {{ preguntaActual.texto }}
          </h2>
        </div>

        <!-- Opciones MÃºltiples -->
        <div *ngIf="preguntaActual.tipo === 'multiple'" class="space-y-3 mb-6">
          <button
            *ngFor="let opcion of preguntaActual.opciones"
            (click)="seleccionarOpcion(opcion)"
            [class.bg-gradient-to-r]="preguntaActual.respuestaSeleccionada === opcion"
            [class.from-pink-500]="preguntaActual.respuestaSeleccionada === opcion"
            [class.to-purple-500]="preguntaActual.respuestaSeleccionada === opcion"
            [class.text-white]="preguntaActual.respuestaSeleccionada === opcion"
            [class.bg-gray-100]="preguntaActual.respuestaSeleccionada !== opcion"
            [class.text-gray-700]="preguntaActual.respuestaSeleccionada !== opcion"
            [class.hover:bg-gray-200]="preguntaActual.respuestaSeleccionada !== opcion"
            class="w-full p-4 rounded-xl font-medium transition-all duration-300 text-left shadow-md hover:shadow-lg"
          >
            <span class="flex items-center">
              <span class="w-6 h-6 rounded-full border-2 mr-3 flex items-center justify-center"
                    [class.border-white]="preguntaActual.respuestaSeleccionada === opcion"
                    [class.bg-white]="preguntaActual.respuestaSeleccionada === opcion"
                    [class.border-gray-400]="preguntaActual.respuestaSeleccionada !== opcion">
                <span *ngIf="preguntaActual.respuestaSeleccionada === opcion" 
                      class="w-3 h-3 rounded-full bg-pink-500"></span>
              </span>
              {{ opcion }}
            </span>
          </button>
        </div>

        <!-- Pregunta Abierta -->
        <div *ngIf="preguntaActual.tipo === 'abierta'" class="mb-6">
          <textarea
            [(ngModel)]="preguntaActual.respuestaAbierta"
            placeholder="Escribe tu respuesta aquÃ­..."
            rows="5"
            class="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-pink-400 focus:outline-none resize-none text-gray-700 placeholder-gray-400"
          ></textarea>
        </div>

        <!-- Botones -->
        <div class="flex flex-col sm:flex-row gap-3">
          <button
            (click)="guardarRespuesta()"
            [disabled]="!puedeGuardar()"
            [class.opacity-50]="!puedeGuardar()"
            [class.cursor-not-allowed]="!puedeGuardar()"
            class="flex-1 bg-gradient-to-r from-pink-500 to-purple-500 text-white font-semibold py-3 md:py-4 px-6 rounded-xl hover:from-pink-600 hover:to-purple-600 transition-all duration-300 shadow-lg hover:shadow-xl disabled:hover:from-pink-500 disabled:hover:to-purple-500"
          >
            âœ“ Guardar respuesta
          </button>
          <button
            (click)="cerrarPregunta()"
            class="flex-1 bg-gray-200 text-gray-700 font-semibold py-3 md:py-4 px-6 rounded-xl hover:bg-gray-300 transition-all duration-300"
          >
            Cerrar
          </button>
        </div>
      </div>
    </div>

    <!-- Mensaje de Completado -->
    <div
      *ngIf="preguntasRespondidas === preguntas.length"
      class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50"
    >
      <div class="bg-white rounded-3xl shadow-2xl p-6 md:p-8 max-w-md w-full text-center">
        <div class="text-6xl md:text-7xl mb-4">ğŸ’“</div>
        <h2 class="text-2xl md:text-3xl font-bold text-pink-600 mb-4">
          Â¡Completado!
        </h2>
        <p class="text-base md:text-lg text-gray-700 mb-6">
          Has respondido todas las preguntas, creo que alomejor te has ganado los zapatos... ğŸ˜‰
        </p>
        <button
          (click)="reiniciarJuego()"
          class="bg-gradient-to-r from-pink-500 to-purple-500 text-white font-semibold py-3 px-6 rounded-xl hover:from-pink-600 hover:to-purple-600 transition-all duration-300 shadow-lg"
        >
          Empezar de nuevo
        </button>
      </div>
    </div>
  </div>

  <!-- Botones de navegaciÃ³n -->
  <div class="flex justify-center gap-4 py-8">
    <button
      onclick="window.history.back()"
      class="px-6 py-3 bg-white/20 hover:bg-white/30 text-white font-semibold rounded-lg backdrop-blur-lg border border-white/30 transition-all"
    >
      â† AtrÃ¡s
    </button>
  </div>
</div>